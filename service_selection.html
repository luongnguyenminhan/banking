<!DOCTYPE html>
<html>
<head>
    <title>Chọn Dịch Vụ</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="login-container">
        <h2>Chọn Dịch Vụ</h2>
        <div id="serviceList" class="service-list"></div>
        <div id="pagination" class="pagination"></div>
        <button onclick="window.location.href='login.html'" class="link-btn">
            Quay lại trang đăng nhập
        </button>
    </div>

    <script>
        // Sample service data
        
        const services = [
            { id: 'service1', name: 'Dịch vụ 1', price: 100000 },
            { id: 'service2', name: 'Dịch vụ 2', price: 200000 },
            { id: 'service3', name: 'Dịch vụ 3', price: 300000 },
            { id: 'service4', name: 'Dịch vụ 4', price: 400000 },
            { id: 'service5', name: 'Dịch vụ 5', price: 500000 },
            { id: 'service6', name: 'Dịch vụ 6', price: 600000 },
            { id: 'billPayment', name: 'Thanh toán hóa đơn', price: "Thanh toán cho hóa đơn của bạn" },
            // Add more services as needed
        ];

        const servicesPerPage = 2; // Adjusted for more items per page
        let currentPage = 1;

        function displayServices(page) {
            const serviceList = document.getElementById('serviceList');
            const currentItems = serviceList.children;
        
            // Add leaving animation to current items
            Array.from(currentItems).forEach(item => {
                item.classList.add('leaving');
            });
        
            // Wait for leaving animation to complete
            setTimeout(() => {
                serviceList.innerHTML = '';
                
                const startIndex = (page - 1) * servicesPerPage;
                const endIndex = startIndex + servicesPerPage;
                const paginatedServices = services.slice(startIndex, endIndex);
        
                paginatedServices.forEach(service => {
                    let priceDisplay;
                    let specialTag = '';
                    
                    if (service.id === 'billPayment') {
                        priceDisplay = service.price; // "Thanh toán cho hóa đơn của bạn"
                        specialTag = '<span class="special-tag">Đặc biệt</span>';
                    } else {
                        priceDisplay = `${service.price.toLocaleString()} VNĐ`;
                    }
        
                    const serviceItem = document.createElement('div');
                    serviceItem.className = 'service-item';
                    serviceItem.innerHTML = `
                        <h3>${service.name}</h3>
                        <p>Mô tả: ${priceDisplay}</p>
                        <button class="select-service-btn" onclick="selectService('${service.id}', ${service.id === 'billPayment' ? `'${service.price}'` : service.price})">
                            Chọn Dịch Vụ
                        </button>
                    `;
                    serviceList.appendChild(serviceItem);
                });
        
                displayPagination();
            }, 300); // Match animation duration
        }

        function displayPagination() {
            const pagination = document.getElementById('pagination');
            pagination.innerHTML = '';

            const pageCount = Math.ceil(services.length / servicesPerPage);
            for (let i = 1; i <= pageCount; i++) {
                const pageButton = document.createElement('button');
                pageButton.textContent = i;
                if (i === currentPage) {
                    pageButton.disabled = true;
                }
                pageButton.addEventListener('click', () => {
                    currentPage = i;
                    displayServices(currentPage);
                });
                pagination.appendChild(pageButton);
            }
        }

        function selectService(serviceId, price) {
            if (serviceId === 'billPayment') {
                window.location.href = `bill_payment.html?price=${price}`;
            } else {
                window.location.href = `transaction_form.html?service=${serviceId}&price=${price}`;
            }
        }

        // Initialize display
        displayServices(currentPage);
    </script>
</body>
</html>